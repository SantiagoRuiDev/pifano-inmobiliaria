<?php include_once 'src/templates/header.phtml'; ?>

<main class="min-h-screen bg-indigo-100 w-full grid items-start py-8">
    <div class="max-w-2xl mx-auto bg-white shadow-md rounded-lg p-8">
        
        <h2 class="text-2xl font-semibold mb-6 text-indigo-700">Seleccionar Alquiler para Recibo</h2>

        <form action="/pifano-inmobiliaria/procesar-recibo" method="POST">
            <div class="mb-4">
                <label for="id_rent" class="text-gray-700 mb-2 block">Seleccione el Alquiler:</label>
                <select id="id_rent" name="id_rent" required class="w-full border border-gray-300 rounded-md px-4 py-2">
                    <option value="">-- Seleccionar Alquiler --</option>
                    <?php 
                        // La variable $rents vendrÃ¡ del controlador (RentController)
                        if (isset($rents) && is_array($rents)): 
                            foreach ($rents as $rent):
                    ?>
                        <option value="<?= $rent->id_rent ?>">
                            ID <?= $rent->id_rent ?> | Inquilino: <?= $rent->tenant_name ?> <?= $rent->tenant_lastname ?> | Propiedad: <?= $rent->property_address ?>
                        </option>
                    <?php 
                            endforeach;
                        endif;
                    ?>
                </select>
            </div>

            <div class="flex justify-between mt-6">
                <a href="<?= BASE_URL ?>inicio" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300">Cancelar</a>
                <button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700">Generar PDF</button>
            </div>
        </form>
    </div>
</main>

<?php include_once 'src/templates/footer.phtml'; ?>